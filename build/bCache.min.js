!function(){"use strict";angular.module("bCacheModule",[]).service("bCacheSession",["$q","$window",function(e,o){this.get=function(r,t){var s,i=e.defer();return void 0!==o.sessionStorage[r]&&null!==o.sessionStorage[r]?(s=angular.fromJson(o.sessionStorage[r]),s.$origin="sessionStorage"):void 0!==t&&(s=this.set(r,t())),s?(s.$promise=i.promise,s.$resolved=!0,i.resolve(s),s):(i.reject(),{$resolved:!0,$promise:i.promise})},this.set=function(e,r){try{o.sessionStorage[e]=angular.toJson(r)}catch(t){}return r},this.has=function(e){return void 0!==o.sessionStorage[e]},this.remove=function(e){return o.sessionStorage.removeItem(e)},this.clear=function(){o.sessionStorage.clear()}}]).service("bCacheLocal",["$q","$window",function(e,o){this.get=function(r,t){var s,i=e.defer();return void 0!==o.localStorage[r]&&null!==o.localStorage[r]?(s=angular.fromJson(o.localStorage[r]),s.$origin="localStorage"):void 0!==t&&(s=this.set(r,t())),s?(s.$promise=i.promise,s.$resolved=!0,i.resolve(s),s):(i.reject(),{$resolved:!0,$promise:i.promise})},this.set=function(e,r){try{o.localStorage[e]=angular.toJson(r)}catch(t){}return r},this.has=function(e){return void 0!==o.localStorage[e]},this.remove=function(e){return o.localStorage.removeItem(e)},this.clear=function(){o.localStorage.clear()}}]).service("bCacheAngular",["$q","$cacheFactory",function(e,o){var r=o("general");this.get=function(o,t){var s,i=e.defer(),n=r.get(o);if(void 0!==n&&null!==n){if(void 0!==n.$promise)return n;s=angular.copy(n),s.$origin="cache"}else void 0!==t&&(s=this.set(o,t()));return s?(s.$promise=i.promise,s.$resolved=!0,i.resolve(s),s):(i.reject(),{$resolved:!0,$promise:i.promise})},this.set=function(e,o){try{r.put(e,o)}catch(t){}return o},this.has=function(e){return void 0!==r.get(e)},this.remove=function(e){return r.remove(e)},this.clear=function(){r.removeAll()}}]).provider("bCacheFactory",[function(){this.cacheSystems={session:"bCacheSession",local:"bCacheLocal",angular:"bCacheAngular"};var e;this.bCacheSystem=function(o){if(void 0===o)return e;for(var r in this.cacheSystems)if(this.cacheSystems[r]===o)return void(e=o);throw"option not accepted"},this.$get=["$injector",function(o){var r=o.get(e||this.cacheSystems.angular);return r.$type=e||this.cacheSystems.angular,r}]}])}();
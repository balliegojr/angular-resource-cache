!function(){"use strict";angular.module("resourceCacheModule",[]).service("resourceCacheSession",["$q","$window",function(e,r){this.get=function(o,t){var s,i=e.defer();return void 0!==r.sessionStorage[o]&&null!==r.sessionStorage[o]?(s=angular.fromJson(r.sessionStorage[o]),s.$origin="sessionStorage"):void 0!==t&&(s=this.set(o,t())),s?(s.$promise=i.promise,s.$resolved=!0,i.resolve(s),s):(i.reject(),{$resolved:!0,$promise:i.promise})},this.set=function(e,o){try{r.sessionStorage[e]=angular.toJson(o)}catch(t){}return o},this.has=function(e){return void 0!==r.sessionStorage[e]},this.remove=function(e){return r.sessionStorage.removeItem(e)},this.clear=function(){r.sessionStorage.clear()}}]).service("resourceCacheLocal",["$q","$window",function(e,r){this.get=function(o,t){var s,i=e.defer();return void 0!==r.localStorage[o]&&null!==r.localStorage[o]?(s=angular.fromJson(r.localStorage[o]),s.$origin="localStorage"):void 0!==t&&(s=this.set(o,t())),s?(s.$promise=i.promise,s.$resolved=!0,i.resolve(s),s):(i.reject(),{$resolved:!0,$promise:i.promise})},this.set=function(e,o){try{r.localStorage[e]=angular.toJson(o)}catch(t){}return o},this.has=function(e){return void 0!==r.localStorage[e]},this.remove=function(e){return r.localStorage.removeItem(e)},this.clear=function(){r.localStorage.clear()}}]).service("resourceCacheAngular",["$q","$cacheFactory",function(e,r){var o=r("general");this.get=function(r,t){var s,i=e.defer(),n=o.get(r);if(void 0!==n&&null!==n){if(void 0!==n.$promise)return n;s=angular.copy(n),s.$origin="cache"}else void 0!==t&&(s=this.set(r,t()));return s?(s.$promise=i.promise,s.$resolved=!0,i.resolve(s),s):(i.reject(),{$resolved:!0,$promise:i.promise})},this.set=function(e,r){try{o.put(e,r)}catch(t){}return r},this.has=function(e){return void 0!==o.get(e)},this.remove=function(e){return o.remove(e)},this.clear=function(){o.removeAll()}}]).provider("resourceCacheFactory",[function(){this.cacheSystems={session:"resourceCacheSession",local:"resourceCacheLocal",angular:"resourceCacheAngular"};var e;this.resourceCacheSystem=function(r){if(void 0===r)return e;for(var o in this.cacheSystems)if(this.cacheSystems[o]===r)return void(e=r);throw"option not accepted"},this.$get=["$injector",function(r){var o=r.get(e||this.cacheSystems.angular);return o.$type=e||this.cacheSystems.angular,o}]}])}();